<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="Styles/dashboard.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="shortcut icon" href="../site institucional/novo/assets/imgs/Logo_com fundo.png" type="image/x-icon">
</head>

<body>
    <div class="nav">

        <a href=""><img src="Assets/Icons/logo_branca.png" alt=""></a>


        <div>
            <a href="#">Home</a>
            <a href="#">Dashboard</a>
            <a href="#">Relatórios</a>
            <a href=""><img src="Assets/Icons/perfil.png" alt=""></a>
        </div>

    </div>

    <div class="container">

        <div class="KPI">
            <div class="Status">
                <h1>Status dos Sensores</h1>
                <div>
                    <h4>Alertas</h4>
                    <div>
                        <img src="Assets/Icons/aviso.png">
                        <h3>3</h3>
                    </div>
                </div>

                <div>
                    <h4>Perigo</h4>
                    <div>
                        <img src="Assets/Icons/alerta.png" class="perigo">
                        <h3>1</h3>
                    </div>
                </div>

                <div>
                    <h4>Manutenção</h4>
                    <div>
                        <img src="Assets/Icons/sem-sinal.png">
                        <h3>1</h3>
                    </div>
                </div>
            </div>

            <div class="indicadores_grafico">

                <div>
                    <h1>Temperatura média:</h1>
                    <div>
                        <img src="Assets/Icons/termometro.png">
                        <h4>28 C°</h4>
                    </div>
                </div>


                <div>
                    <h1>Umidade média:</h1>
                    <div>
                        <img src="Assets/Icons/umidade.png">
                        <h4>76%</h4>
                    </div>
                </div>

            </div>
        </div>


        <div class="Graficos">
            <div class="areaGrid">
                <div class="A">
                    <div id="A1"><img src="Assets/grid_img/sensor.png" alt=""></div>
                    <div id="A2"><img src="Assets/grid_img/sensor.png" alt=""></div>
                    <div id="A3"><img src="Assets/grid_img/sensor.png" alt=""></div>
                    <div id="A4"><img src="Assets/grid_img/sensor.png" alt=""></div>
                    <div id="A5"><img src="Assets/grid_img/sensor.png" alt=""></div>
                    <div id="A6"><img src="Assets/grid_img/sensor.png" alt=""></div>
                    <div id="A7">
                        <img src="Assets/grid_img/sensor.png" alt="">
                    </div>
                    <div id="A8"><img src="Assets/grid_img/sensor.png" alt=""></div>
                    <div id="A9"><img src="Assets/grid_img/sensor.png" alt=""></div>
                </div>


                <div class="B">
                    <div id="B1"><img src="Assets/grid_img/sensor.png" alt=""></div>
                    <div id="B2"></div>
                    <div id="B3"></div>
                    <div id="B4"></div>
                    <div id="B5"></div>
                    <div id="B6"></div>
                    <div id="B7"></div>
                    <div id="B8"></div>
                    <div id="B9"><img src="Assets/grid_img/sensor.png" alt=""></div>
                </div>


                <div class="C">
                    <div id="C1"><img src="Assets/grid_img/sensor.png" alt=""></div>
                    <div id="C2"></div>
                    <div id="C3"></div>
                    <div id="C4"></div>
                    <div id="C5"></div>
                    <div id="C6"></div>
                    <div id="C7"></div>
                    <div id="C8"></div>
                    <div id="C9"><img src="Assets/grid_img/sensor.png" alt=""></div>
                </div>


                <div class="D">
                    <div id="D1"><img src="Assets/grid_img/sensor.png" alt=""></div>
                    <div id="D2"></div>
                    <div id="D3"></div>
                    <div id="D4"></div>
                    <div id="D5"></div>
                    <div id="D6"></div>
                    <div id="D7"></div>
                    <div id="D8"></div>
                    <div id="D9"><img src="Assets/grid_img/sensor.png" alt=""></div>
                </div>


                <div class="E">
                    <div id="E1"><img src="Assets/grid_img/sensor.png" alt=""></div>
                    <div id="E2"></div>
                    <div id="E3"></div>
                    <div id="E4"></div>
                    <div id="E5"></div>
                    <div id="E6"></div>
                    <div id="E7"></div>
                    <div id="E8"></div>
                    <div id="E9"><img src="Assets/grid_img/sensor.png" alt=""></div>
                </div>


                <div class="F">
                    <div id="F1"><img src="Assets/grid_img/sensor.png" alt=""></div>
                    <div id="F2"></div>
                    <div id="F3"></div>
                    <div id="F4"></div>
                    <div id="F5"></div>
                    <div id="F6"></div>
                    <div id="F7"></div>
                    <div id="F8"></div>
                    <div id="F9"><img src="Assets/grid_img/sensor.png" alt=""></div>
                </div>



                <div class="G">
                    <div id="G1"><img src="Assets/grid_img/sensor.png" alt=""></div>
                    <div id="G2"></div>
                    <div id="G3"></div>
                    <div id="G4"></div>
                    <div id="G5"></div>
                    <div id="G6"></div>
                    <div id="G7"></div>
                    <div id="G8"></div>
                    <div id="G9"><img src="Assets/grid_img/sensor.png" alt=""></div>
                </div>


                <div class="H">
                    <div id="H1"><img src="Assets/grid_img/sensor.png" alt=""></div>
                    <div id="H2"></div>
                    <div id="H3"></div>
                    <div id="H4"></div>
                    <div id="H5"></div>
                    <div id="H6"></div>
                    <div id="H7"></div>
                    <div id="H8"></div>
                    <div id="H9"><img src="Assets/grid_img/sensor.png" alt=""></div>
                </div>


                <div class="I">
                    <div id="I1"><img src="Assets/grid_img/sensor.png" alt=""></div>
                    <div id="I2"><img src="Assets/grid_img/sensor.png" alt=""></div>
                    <div id="I3"><img src="Assets/grid_img/sensor.png" alt=""></div>
                    <div id="I4"><img src="Assets/grid_img/sensor.png" alt=""></div>
                    <div id="I5"><img src="Assets/grid_img/sensor.png" alt=""></div>
                    <div id="I6"><img src="Assets/grid_img/sensor.png" alt=""></div>
                    <div id="I7"><img src="Assets/grid_img/sensor.png" alt=""></div>
                    <div id="I8"><img src="Assets/grid_img/sensor.png" alt=""></div>
                    <div id="I9"><img src="Assets/grid_img/sensor.png" alt=""></div>
                </div>


            </div>


            <div class="div_grafico">

              

                <canvas id="myChart"></canvas>
            </div>

        </div>




    </div>


</body>

</html>

<script>


    function atualizar() {
        var umidAviso = 40;
        var tempAviso = 30;

        var umidAlerta = 20;
        var tempAlerta = 38;

        var tempSensorA7 = 40;
        var umidSensorA7 = 20;


        //Restaurando padrões

        A7.innerHTML = `
            <img src="Assets/grid_img/sensor.png" alt="">`;
        A8.innerHTML = `
            <img src="Assets/grid_img/sensor.png" alt="">`;
        A9.innerHTML = `
            <img src="Assets/grid_img/sensor.png" alt="">`;
        A6.innerHTML = `
            <img src="Assets/grid_img/sensor.png" alt="">`;
        A5.innerHTML = `
            <img src="Assets/grid_img/sensor.png" alt="">`;
        B6.innerHTML = `
            <img src="" alt="">`;
        B7.innerHTML = `
            <img src="" alt="">`;
        B8.innerHTML = `
            <img src="" alt="">`;
        C7.innerHTML = `
            <img src="" alt="">`;



        if ((tempSensorA7 <= 0 && umidSensorA7 < 0) || (tempSensorA7 == "" || umidSensorA7 == "") || (tempSensorA7 == NaN || umidSensorA7 == NaN)) {
            A7.innerHTML = `
            <img src="Assets/grid_img/sem_sinal.png" height="50px" alt="">`;
        }
        else if (tempSensorA7 >= tempAlerta && umidSensorA7 <= umidAlerta) {

            A7.innerHTML = `
        <img src="Assets/grid_img/fogo.png" height="50px" alt="">`;
            A6.innerHTML = `
        <img src="Assets/grid_img/alerta_temp_umid.png" height="50px" alt="">`;
            A8.innerHTML = `
        <img src="Assets/grid_img/alerta_temp_umid.png" height="50px" alt="">`;
            B7.innerHTML = `
        <img src="Assets/grid_img/alerta_temp_umid.png" height="50px" alt="">`;
            C7.innerHTML = `
        <img src="Assets/grid_img/aviso_temp_umid.png" height="50px" alt="">`;
            B6.innerHTML = `
        <img src="Assets/grid_img/aviso_temp_umid.png" height="50px" alt="">`;
            B8.innerHTML = `
        <img src="Assets/grid_img/aviso_temp_umid.png" height="50px" alt="">`;
            A5.innerHTML = `
        <img src="Assets/grid_img/aviso_temp_umid.png" height="50px" alt="">`;
            A9.innerHTML = `
        <img src="Assets/grid_img/aviso_temp_umid.png" height="50px" alt="">`;
        }
        else if (tempSensorA7 >= tempAviso && umidSensorA7 <= umidAviso) {
            A7.innerHTML = `
            <img src="Assets/grid_img/aviso_temp_umid.png" alt="">`;
        }
        else if (umidSensorA7 <= umidAlerta) {
            A7.innerHTML = `
            <img src="Assets/grid_img/alerta_umid.png"  alt="">`;
            A8.innerHTML = `
            <img src="Assets/grid_img/aviso_umid.png"  alt="">`;
            A6.innerHTML = `
            <img src="Assets/grid_img/aviso_umid.png"  alt="">`;
            B7.innerHTML = `
            <img src="Assets/grid_img/aviso_umid.png"  alt="">`;
        }
        else if (umidSensorA7 <= umidAviso) {
            A7.innerHTML = `
            <img src="Assets/grid_img/aviso_umid.png"  alt="">`;
        }
        else if (tempSensorA7 >= tempAlerta) {
            A7.innerHTML = `
            <img src="Assets/grid_img/alerta_temp.png"  alt="">`;
            A8.innerHTML = `
            <img src="Assets/grid_img/aviso_temp.png"  alt="">`;
            A6.innerHTML = `
            <img src="Assets/grid_img/aviso_temp.png"  alt="">`;
            B7.innerHTML = `
            <img src="Assets/grid_img/aviso_temp.png"  alt="">`;
        }
        else if (tempSensorA7 >= tempAviso) {
            A7.innerHTML = `
            <img src="Assets/grid_img/aviso_temp.png"  
            alt="">`;
        }
    }

    function carregarGrafico() {

        const ctx = document.getElementById('myChart');


        new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10'],
                datasets: [
                    {
                        label: 'Temperatura',
                        data: [22, 23, 25, 27, 30, 29, 28, 26, 24, 23],
                        borderWidth: 5,
                        borderColor: 'rgb(255, 99, 132)',
                        backgroundColor: 'rgb(255, 99, 132)',
                    },
                    {
                        label: 'Umidade',
                        data: [75, 76, 78, 80, 82, 81, 79, 78, 76, 74],
                        borderWidth: 5,
                        borderColor: 'rgb(54, 162, 235)',
                        backgroundColor: 'rgb(54, 162, 235)',

                    }
                ]
            },
            options: {
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true
                    },

                }
            }
        });


    }

    atualizar();
    carregarGrafico()
</script>