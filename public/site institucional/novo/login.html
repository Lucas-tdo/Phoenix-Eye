<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phoenix-Eye</title>
    <link rel="stylesheet" href="styles/stylelogin.css">
    <link rel="shortcut icon" href="assets/imgs/Logo_com fundo.png" type="image/x-icon">
</head>

<body>

    <!-- HOME -->
    <div class="container">
        <div id="pagina">
            <div class="pagina_fundo_verde">


                <div id="card_login" class="card_login">
                    <p class="titulo_login">Login</p>
                    <div class="campo_login">

                        <input type="text" id="input_email_login" placeholder="Email:">
                        <img src="assets/icon/perfil.png">
                    </div>
                    <div class="campo_login">

                        <input type="password" id="input_email_senha" placeholder="Senha:">
                        <img src="assets/icon/cadeado-seguro.png">
                    </div>
                    <button onclick="ValidarLogin()" id="button_entrar">Entrar</button>
                    <button  id="button_cadastro">Não tem uma conta? <u onclick="cadastro()">Cadastre-se</u> </button>
                </div>


                <div id="card_cadastro" class="vazio">
                    <p class="titulo_cadastro">Cadastro</p>

                    <div class="campo_cadastro">
                        <input type="text" id="input_nome_cadastro" placeholder="Nome:">
                        <img src="assets/icon/perfil.png">
                    </div>

                    <div class="campo_cadastro">
                        <input type="number" id="input_telefone_cadastro" placeholder="Telefone:">
                        <img src="assets/icon/telefone.png">
                    </div>

                    <div class="campo_cadastro">
                        <input type="text" id="input_email_cadastro" placeholder="Email:">
                        <img src="assets/icon/email.png">
                    </div>
                    <div class="campo_cadastro">
                        <input type="text" id="input_senha_cadastro" placeholder="Senha:">
                        <img src="assets/icon/cadeado-seguro.png">
                    </div>
                    <button onclick="ValidarCadastro()" id="button_entrar">Cadastra-se</button>
                    <button id="button_login" >Já tem uma conta? <u onclick="Login()">Conecte-se</u></button>
                </div>
                    
                <div id="card_login_block" class="vazio">
                    <h1>Página bloqueada!</h1>
                    <img src="assets/icon/block.png" alt="">
                </div>

                <a href="index.html"><button class="button_voltar">Voltar ao home</button></a>
            </div>
                
        </div>
        
        
    </div>
</body>

</html>
<script>
    var erros=0
    var nome = ""
    var telefone = ""
    var email = ""
    
    var senha = ""
    function Login(){
        card_cadastro.className ='vazio'
        card_login.className = 'card_login'
    }
    function cadastro(){
        card_login.className ='vazio'
        card_cadastro.className = 'card_cadastro'
    }

    function ValidarCadastro(){
        var nome_tentativa = input_nome_cadastro.value
        var telefone_tentativa = input_telefone_cadastro.value.replaceAll(" ","").replaceAll("-","")
        var email_tentativa = input_email_cadastro.value.replaceAll(" ", "");
        var senha_tentativa = input_senha_cadastro.value.replaceAll(" ", "");

        var maiscula = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
        var minuscula = "abcdefghijklmnopqrstuvwxyz"
        var caracteres= "!@#$%^&*()_+-={}[]|\:;\<>,.?/~"
        var numeros= "0123456789"

        var temMaisculasenha = false
        var temMinusculasenha = false
        var temCaractere = false
        var temnumero = false

        var problemaemail=""
        var problemasenha=""
        var problematelefone=""


            if(!email_tentativa.includes('@') && !email_tentativa.includes('.')){
                problemaemail+=`Problema no Email:Email inválido deve conter '@' e '.'`
            }
            else if(!email_tentativa.includes('@')){
                problemaemail+=`Problema no Email:Email inválido deve conter '@'`
            }
            else if(!email_tentativa.includes('.')){
                problemaemail+=`Problema no Email:Email inválido deve conter '.'`
            }

           
            if(telefone_tentativa.length>11 ||telefone_tentativa.length<9 ||telefone_tentativa.length==10){
                problematelefone+='Problema no telefone:Tamanho do número inválido'
            }
            else if(telefone_tentativa.length==9){
                problematelefone+='Problema no telefone:Número sem DDD'
            }
                   
            for(i=0;i<maiscula.length;i++){
                if(senha_tentativa.includes(maiscula[i])){
                    temMaisculasenha=true
                }
            }
            if(!temMaisculasenha){
                problemasenha+='A senha deve conter pelo menos 1 letra Maiúscula\n'
            }
            for(i=0;i<minuscula.length;i++){
                if(senha_tentativa.includes(minuscula[i])){
                    temMinusculasenha=true
                }
            }

            if(!temMinusculasenha){
                problemasenha+='A senha deve conter pelo menos 1 letra Minúscula\n'
            }

            for(i=0;i<caracteres.length;i++){
                if(senha_tentativa.includes(caracteres[i])){
                    temCaractere=true
                }
            }
            if(!temCaractere){
                problemasenha+='A senha deve conter pelo menos 1 caractere especial\n'
            }

            for(i=0;i<numeros.length;i++){
                if(senha_tentativa.includes(numeros[i])){
                    temnumero=true
                }
            }
            if(!temnumero){
                problemasenha+='A senha deve conter pelo menos 1 número\n'
            }

            if(problemasenha.length>0||problematelefone.length>0||problemaemail.length>0){
                alert(`${problemaemail}\n${problematelefone}\nProblemas da senha:\n${problemasenha}`)
            }
            else{
                alert('Cadastro concluido')
                nome=nome_tentativa
                telefone=telefone_tentativa
                email=email_tentativa
                senha=senha_tentativa
            }
            
        }
            




    function ValidarLogin(){
        var email_tentativa = input_email_login.value.replaceAll(" ", "");
        var senha_tentativa = input_email_senha.value.replaceAll(" ", "");


        var maiscula = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
        var minuscula = "abcdefghijklmnopqrstuvwxyz"
        var caracteres= "!@#$%^&*()_+-={}[]|\:;\<>,.?/~"
        var numeros= "0123456789"

        var temMaisculasenha = false
        var temMinusculasenha = false
        var temCaractere = false
        var temnumero = false

        var problemaemail=""
        var problemasenha=""

        if(erros>2){
            card_login_block.className="card_login_block"
            card_login.className="vazio"
        }
        else{
            if(!email_tentativa.includes('@') && !email_tentativa.includes('.')){
                problemaemail+=`Problema no Email:Email inválido deve conter '@' e '.'`
            }
            else if(!email_tentativa.includes('@')){
                problemaemail+=`Problema no Email:Email inválido deve conter '@'`
            }
            else if(!email_tentativa.includes('.')){
                problemaemail+=`Problema no Email:Email inválido deve conter '.'`
            }
            
            if(senha_tentativa.length<8){
                problemasenha+=`O tamanho da senha tem que ser maior que 8`
            } 

            for(i=0;i<maiscula.length;i++){
                if(senha_tentativa.includes(maiscula[i])){
                    temMaisculasenha=true
                }
            }
            if(!temMaisculasenha){
                problemasenha+='A senha deve conter pelo menos 1 letra Maiúscula\n'
            }
            for(i=0;i<minuscula.length;i++){
                if(senha_tentativa.includes(minuscula[i])){
                    temMinusculasenha=true
                }
            }
            if(!temMinusculasenha){
                problemasenha+='A senha deve conter pelo menos 1 letra Minúscula\n'
            }

            for(i=0;i<caracteres.length;i++){
                if(senha_tentativa.includes(caracteres[i])){
                    temCaractere=true
                }
            }
            if(!temCaractere){
                problemasenha+='A senha deve conter pelo menos 1 caractere especial\n'
            }

            for(i=0;i<numeros.length;i++){
                if(senha_tentativa.includes(numeros[i])){
                    temnumero=true
                }
            }
            if(!temnumero){
                problemasenha+='A senha deve conter pelo menos 1 número\n'
            }

            if(problemasenha.length>0 || problemaemail.length>0){
                erros++
                alert(`${problemaemail}\nProblemas da senha:\n${problemasenha}Restam apenas ${3-erros} tentativas`)
            }
            else{
                if(email_tentativa==email && senha_tentativa==senha){
                    alert('Login Realizado')
                }
            }

        }
    }
            
        
            
        
        
        
    
</script>